---
const currentPath = Astro.url.pathname;
const hostname = Astro.url.hostname;
const logoText = hostname.includes('marcelmanzanares.com') ? 'marcel manzanares' : 'follow the trace';
---

<nav class="flex flex-col sm:flex-row sm:justify-between items-center sm:items-baseline mt-6 mb-6 sm:mt-10 sm:mb-14">
	<a id="logo" href="/" class="mb-4 pb-2 sm:mb-0 sm:pb-8 text-center sm:text-left">
		{logoText}
	</a>
	<div id="right-navbar" class="flex space-x-4 items-center sm:self-end mb-[10px]">
		<a href="/about" class={currentPath === '/about' ? 'active' : ''}>About</a>
		<a href="/projects" class={currentPath === '/projects' ? 'active' : ''}>
			Projects
		</a>
		<button id="theme-toggle" class="font-ibm-plex-mono text-sm" aria-label="Toggle theme">
			<span class="theme-icon theme-icon-light" aria-hidden="true">
				<svg viewBox="0 0 24 24">
					<circle cx="12" cy="12" r="4" fill="currentColor" />
					<g stroke="currentColor" stroke-width="1.8" stroke-linecap="round">
						<line x1="12" y1="2.5" x2="12" y2="6" />
						<line x1="12" y1="18" x2="12" y2="21.5" />
						<line x1="3" y1="12" x2="6" y2="12" />
						<line x1="18" y1="12" x2="21" y2="12" />
						<line x1="5.5" y1="5.5" x2="7.9" y2="7.9" />
						<line x1="16.1" y1="16.1" x2="18.5" y2="18.5" />
						<line x1="5.5" y1="18.5" x2="7.9" y2="16.1" />
						<line x1="16.1" y1="7.9" x2="18.5" y2="5.5" />
					</g>
				</svg>
			</span>
			<span class="theme-icon theme-icon-dark" aria-hidden="true">
				<svg viewBox="0 0 400 400">
					<g fill="currentColor" transform="translate(60 60) scale(0.7)">
						<polygon points="133.3,53.3 133.3,26.7 106.7,26.7 80,26.7 80,53.3 106.7,53.3" />
						<polygon points="160,53.3 186.7,53.3 186.7,26.7 213.3,26.7 213.3,0 186.7,0 160,0 133.3,0 133.3,26.7 160,26.7" />
						<rect width="26.7" height="26.7" x="53.3" y="53.3" />
						<rect width="26.7" height="26.7" x="133.3" y="53.3" />
						<polygon points="106.7,106.7 106.7,133.3 106.7,160 106.7,186.7 106.7,213.3 133.3,213.3 133.3,186.7 133.3,160 133.3,133.3 133.3,106.7 133.3,80 106.7,80" />
						<polygon points="53.3,106.7 53.3,80 26.7,80 26.7,106.7 26.7,133.3 53.3,133.3" />
						<polygon points="373.3,186.7 373.3,213.3 346.7,213.3 346.7,240 373.3,240 373.3,266.7 400,266.7 400,240 400,213.3 400,186.7" />
						<polygon points="26.7,213.3 26.7,186.7 26.7,160 26.7,133.3 0,133.3 0,160 0,186.7 0,213.3 0,240 0,266.7 26.7,266.7 26.7,240" />
						<rect width="26.7" height="26.7" x="133.3" y="213.3" />
						<rect width="26.7" height="26.7" x="160" y="240" />
						<rect width="26.7" height="26.7" x="320" y="240" />
						<polygon points="53.3,266.7 26.7,266.7 26.7,293.3 26.7,320 53.3,320 53.3,293.3" />
						<polygon points="213.3,293.3 240,293.3 266.7,293.3 293.3,293.3 320,293.3 320,266.7 293.3,266.7 266.7,266.7 240,266.7 213.3,266.7 186.7,266.7 186.7,293.3" />
						<polygon points="346.7,293.3 346.7,320 373.3,320 373.3,293.3 373.3,266.7 346.7,266.7" />
						<rect width="26.7" height="26.7" x="53.3" y="320" />
						<rect width="26.7" height="26.7" x="320" y="320" />
						<polygon points="106.7,346.7 80,346.7 80,373.3 106.7,373.3 133.3,373.3 133.3,346.7" />
						<polygon points="266.7,346.7 266.7,373.3 293.3,373.3 320,373.3 320,346.7 293.3,346.7" />
						<polygon points="213.3,373.3 186.7,373.3 160,373.3 133.3,373.3 133.3,400 160,400 186.7,400 213.3,400 240,400 266.7,400 266.7,373.3 240,373.3" />
					</g>
				</svg>
			</span>
		</button>

		<style>
			nav #logo {
				font-family: var(--font-vt323);
				font-size: clamp(2.75rem, 6vw, 3.5rem);
				font-weight: normal;
				letter-spacing: 0;
				line-height: 1;
				display: inline-block;
				padding-left: 0.25rem;
				padding-right: 0.25rem;
				margin: 0 -0.25rem;
				transition: none;
			}

			@media (max-width: 639px) {
				nav #logo {
					padding-bottom: 0.5rem;
				}
			}

				:global(html:not(.dark)) nav #logo:hover,
				:global(html:not(.dark)) nav #logo:focus-visible {
					background-color: #0000ee !important;
					color: #ffff11 !important;
				}

			nav #right-navbar a {
				font-family: var(--font-atkinson);
				font-size: 20px;
				font-weight: regular;
				&:hover {
					color: #424949;
				}
			}

				:global(html:not(.dark)) nav #right-navbar a.active {
					color: #111827;
					padding: 0.1rem 0.2rem 0.2rem;
					background-image: linear-gradient(#d1d5db, #d1d5db);
					background-repeat: no-repeat;
					background-size: 100% 0.15em;
					background-position: 0 calc(100% - 0.1em);
				}

				:global(html:not(.dark)) nav #right-navbar a.active:hover,
				:global(html:not(.dark)) nav #right-navbar a.active:focus-visible {
					background-image: linear-gradient(#9ca3af, #9ca3af);
				}

			:global(html.dark) nav #right-navbar a {
				color: #d1d5db;
			}
			:global(html.dark) nav #right-navbar a:hover {
				color: #ffffff;
			}

				:global(html.dark) nav #right-navbar a.active {
					color: #f9fafb;
					padding: 0.1rem 0.2rem 0.2rem;
					background-image: linear-gradient(#4b5563, #4b5563);
					background-repeat: no-repeat;
					background-size: 100% 0.15em;
					background-position: 0 calc(100% - 0.1em);
				}

				:global(html.dark) nav #right-navbar a.active:hover,
				:global(html.dark) nav #right-navbar a.active:focus-visible {
					background-image: linear-gradient(#6b7280, #6b7280);
				}

			nav #right-navbar button {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				padding: 0;
				line-height: 1;
				color: #9ca3af;
			}

			nav #right-navbar button .theme-icon {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 22px;
				height: 22px;
				transition: color 0.2s ease;
			}

		</style>
	</div>
</nav>
