---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import { calculateYearDifference } from "../utils/dates";
import { SITE_CONFIG } from "../config";

const aboutData = {
  title: "Hi!",
  image: "/images/work-pic.webp",
};

const myAge = calculateYearDifference(SITE_CONFIG.author.birthDate);
const yearsProgramming = calculateYearDifference(SITE_CONFIG.author.programmingStartDate);
---

<Layout title={aboutData.title}>
  <article
    class="prose dark:prose-invert prose-stone w-full max-w-none gap-4 flex flex-col items-center mt-8"
  >
    {
      aboutData.image && (
        <div class="w-full flex justify-center">
          <Image
            class="object-cover object-center !m-0 aspect-square block border-2 border-[var(--color-border)] dark:border-white"
            src={aboutData.image}
            alt="me"
            width={150}
            height={150}
          />
        </div>
      )
    }
    <div class="mt-2">
      <h1 id="title">
        {aboutData.title}
      </h1>
      <div
        id="about-content"
        class="text-sm leading-relaxed text-gray-700 prose mt-4 dark:text-white"
      >
        <span>
          I'm Marcel, a {myAge}-year-old software developer based in Barcelona.
        </span>
        <br />
        <br />
        <span class="mt-1 block">
          With over {yearsProgramming} years of experience in the tech industry,  I specialize in frontend development using
          React and TypeScript, and backend development and tooling with Node.js
          and Ruby.
        </span>
        <br />
        <span>
          Currently, I'm working as a full-stack developer at <a
            href="https://www.worldsensing.com/"
            target="_blank"
            rel="noopener">Worldsensing</a
          >. In my free time, I'm expanding my skills by learning Rust and Go
          and contributing to open-source projects.
        </span>
        <br/>
      </div>
    </div>
  </article>
</Layout>

<style>
  #title {
    font-family: var(--font-merriweather);
    font-size: 32px;
    margin-bottom: 4px;
    line-height: 1.2;
  }

  #about-content {
    font-family: var(--font-atkinson);
    font-size: 17px;
    font-weight: normal;
    text-align: left;
    line-height: 1.6;
    hyphens: auto;
    text-wrap: balance;
    max-width: 68ch;
    margin: 0 auto;
  }

  #about-content a {
    padding: 0 0.15rem;
    margin: 0 -0.15rem;
    font-size: inherit;
  }

  :global(html:not(.dark)) #about-content a:hover {
    background-color: #0000ee;
    color: #ffff11 !important;
  }

  :global(html.dark) #about-content a:hover {
    font-weight: 800;
  }

  @media (max-width: 640px) {
    #about-content {
      text-align: left;
    }
  }
</style>
